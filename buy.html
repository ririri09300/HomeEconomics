<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NEO Bottle 500 - 購入ページ</title>
  <meta name="description" content="購入ページ（静的デモ）" />
  <style>
    :root{
      --bg:#0b0f17; --card:#121a2a; --text:#e7eefc; --muted:#9db0d0;
      --line:#22314f; --accent:#8be9fd; --warn:#ffcc66;
    }
    *{box-sizing:border-box}
    body{
      margin:0; color:var(--text);
      font-family:system-ui,-apple-system,"Segoe UI",sans-serif;
      background:radial-gradient(1000px 600px at 20% 0%, #142040, var(--bg));
    }
    .wrap{max-width:980px; margin:0 auto; padding:22px 16px 56px;}
    a{color:inherit}
    header{display:flex; justify-content:space-between; align-items:center; gap:10px;}
    .btnLink{color:var(--accent); text-decoration:none; font-weight:700}
    .card{
      margin-top:14px;
      border:1px solid var(--line); border-radius:18px; padding:14px;
      background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
    }
    h1{margin:0; font-size:20px}
    .muted{color:var(--muted)}
    .grid{display:grid; gap:12px; grid-template-columns:1fr;}
    @media (min-width:900px){ .grid{grid-template-columns:1.2fr .8fr;} }

    label{display:block; font-size:13px; color:var(--muted); margin:10px 0 6px}
    input, select{
      width:100%;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid var(--line);
      background:#0f1729;
      color:var(--text);
    }
    input:focus, select:focus{outline:2px solid rgba(139,233,253,.35); outline-offset:2px}

    .row{display:grid; gap:10px; grid-template-columns:1fr;}
    @media (min-width:640px){ .row{grid-template-columns:1fr 1fr;} }

    .summary{
      border:1px solid var(--line); border-radius:18px; padding:14px;
      background:rgba(0,0,0,.10);
    }
    .line{display:flex; justify-content:space-between; gap:12px; margin-top:8px; color:var(--muted); font-size:14px}
    .total{display:flex; justify-content:space-between; gap:12px; margin-top:12px; font-weight:850; font-size:16px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:11px 14px; border-radius:14px;
      border:1px solid var(--line);
      background:#101a2d; color:var(--text);
      font-weight:750; text-decoration:none;
      cursor:pointer;
      width:100%;
      margin-top:12px;
    }
    .btn.primary{border-color:rgba(139,233,253,.45); background:rgba(139,233,253,.12);}
    .note{
      margin-top:10px; font-size:12px; color:var(--muted); line-height:1.7;
      border:1px solid rgba(255,204,102,.25);
      background:rgba(255,204,102,.08);
      padding:10px 12px; border-radius:16px;
    }
  </style>
</head>

<body>
  <div class="wrap">
    <header>
      <a class="btnLink" href="./index.html">← 商品ページへ戻る</a>
      <span class="muted" style="font-size:12px;">購入ページ（静的デモ）</span>
    </header>

    <div class="card">
      <h1>NEO Bottle 500 - 購入ページ</h1>
      <p class="muted" style="margin:6px 0 0; line-height:1.7;">
        ここでは「購入フローの見た目」までを実装しています。送信・決済は行いません。
      </p>

      <div class="grid" style="margin-top:12px;">
        <form id="orderForm" class="card" style="margin:0; padding:14px;">
          <div class="row">
            <div>
              <label for="color">カラー</label>
              <select id="color" name="color">
                <option value="ブラック">ブラック</option>
                <option value="アイボリー">アイボリー</option>
              </select>
            </div>
            <div>
              <label for="qty">数量</label>
              <select id="qty" name="qty">
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
              </select>
            </div>
          </div>

          <label for="name">お名前</label>
          <input id="name" name="name" type="text" placeholder="例：山田 太郎" />

          <label for="email">メール（任意）</label>
          <input id="email" name="email" type="email" placeholder="例：taro@example.com" />

          <label for="address">住所（任意）</label>
          <input id="address" name="address" type="text" placeholder="例：東京都..." />

          <button class="btn primary" type="submit">購入を確定（デモ）</button>

          <div class="note">
            ※このページは静的デモのため、入力内容は保存されません。<br/>
            実際に販売する場合は、決済（Stripe等）と注文管理（サーバー）が必要です。
          </div>
        </form>

        <aside class="summary">
          <div style="font-weight:850;">ご注文内容</div>
          <div class="line"><span>商品</span><span>NEO Bottle 500</span></div>
          <div class="line"><span>単価</span><span id="unitPrice">¥2,980</span></div>
          <div class="line"><span>数量</span><span id="qtyView">1</span></div>
          <div class="line"><span>小計</span><span id="subTotal">¥2,980</span></div>
          <div class="line"><span>送料</span><span id="shipping">¥300</span></div>
          <div class="total"><span>合計</span><span id="total">¥3,280</span></div>
          <a class="btn" href="./index.html" style="margin-top:10px;">商品ページを見直す</a>
        </aside>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const UNIT = 2980;
      const qty = document.getElementById('qty');
      const qtyView = document.getElementById('qtyView');
      const subTotal = document.getElementById('subTotal');
      const shipping = document.getElementById('shipping');
      const total = document.getElementById('total');
      const form = document.getElementById('orderForm');

      function yen(n){ return "¥" + n.toLocaleString("ja-JP"); }

      function calc(){
        const q = parseInt(qty.value, 10) || 1;
        const sub = UNIT * q;
        const ship = sub >= 3000 ? 0 : 300; // 例：3000円以上送料無料
        qtyView.textContent = String(q);
        subTotal.textContent = yen(sub);
        shipping.textContent = yen(ship);
        total.textContent = yen(sub + ship);
      }

      qty.addEventListener('change', calc);
      calc();

      form.addEventListener('submit', (e) => {
        e.preventDefault();
        // 静的デモなので送信せず、完了ページへ移動
        const params = new URLSearchParams(new FormData(form));
        window.location.href = "./success.html?" + params.toString();
      });
    })();
  </script>
</body>
</html>
